-- Вміст для наповнення бази даних (seed script)
-- Формат: SQLite

-- Вимикаємо перевірку зовнішніх ключів на час вставки даних
PRAGMA foreign_keys=OFF;

BEGIN TRANSACTION;

-- =================================================================
-- 1. Плани підписок (Subscription Plans)
-- =================================================================
-- Створюємо три основні плани: безкоштовний, преміум та студентський
INSERT INTO "subscription_plans" ("id", "name", "permissions", "price_per_month", "description") VALUES
(1, 'Безкоштовний', '{"no_ads": false, "exclusive_content": false, "save_article": true, "comment": true}', 0.0, 'Доступ до публічних статей з рекламою.'),
(2, 'Преміум', '{"no_ads": true, "exclusive_content": true, "save_article": true, "comment": true}', 9.99, 'Повний доступ до всього контенту без реклами.'),
(3, 'Студентський', '{"no_ads": true, "exclusive_content": true, "save_article": true, "comment": true}', 4.99, 'Спеціальна пропозиція для студентів.');

-- =================================================================
-- 2. Адміністратор (Admins)
-- =================================================================
-- email: admin@some.com, password: admin
INSERT INTO "admins" ("id", "email", "password", "created_at") VALUES
(1, 'admin@some.com', 'pbkdf2:sha256:600000$Yy8g5t4wS3xRzVbE$10e062b1b31275271a2575296884d634934165503461448b1d1299532822a149', '2025-10-10 10:00:00.000000');

-- =================================================================
-- 3. Користувачі (Users)
-- =================================================================
-- Створюємо двох користувачів з різними підписками
-- User 1 (Premium): user@example.com, password: password123
-- User 2 (Free): user2@example.com, password: password123
INSERT INTO "users" ("id", "email", "password", "username", "preferences", "created_at") VALUES
(1, 'user@example.com', 'pbkdf2:sha256:600000$kL9mN8oP7qR6sT5u$f2b1d3a4c5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2', 'PremiumUser', '{}', '2025-10-11 11:00:00.000000'),
(2, 'user2@example.com', 'pbkdf2:sha256:600000$kL9mN8oP7qR6sT5u$f2b1d3a4c5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2', 'FreeUser', '{}', '2025-10-12 12:00:00.000000');

-- =================================================================
-- 4. Призначення підписок користувачам (User Subscription Plans)
-- =================================================================
-- User 1 отримує Преміум підписку, User 2 - Безкоштовну
INSERT INTO "user_subscription_plans" ("id", "user_id", "plan_id", "start_date", "is_active") VALUES
(1, 1, 2, '2025-10-11 11:00:00.000000', 1),
(2, 2, 1, '2025-10-12 12:00:00.000000', 1);

-- =================================================================
-- 5. Категорії (Categories)
-- =================================================================
INSERT INTO "categories" ("id", "name", "description", "is_searchable") VALUES
(1, 'Політика', 'Новини та аналітика політичного життя України та світу.', 1),
(2, 'Економіка', 'Все про фінанси, бізнес та економічні тренди.', 1),
(3, 'Технології', 'Огляди гаджетів, новини IT-індустрії та інновації.', 1),
(4, 'Спорт', 'Найважливіші спортивні події та досягнення.', 1),
(5, 'Культура', 'Мистецтво, кіно, музика та культурні заходи.', 1);

-- =================================================================
-- 6. Автори (Authors)
-- =================================================================
INSERT INTO "authors" ("id", "first_name", "last_name", "bio") VALUES
(1, 'Олена', 'Петренко', 'Головний політичний оглядач з 10-річним досвідом.'),
(2, 'Максим', 'Ковальчук', 'Експерт з ринкових технологій та засновник IT-стартапу.'),
(3, 'Ірина', 'Шевченко', 'Спортивний журналіст, що висвітлює події Олімпійських ігор.');

-- =================================================================
-- 7. Статті (Articles)
-- =================================================================
-- Створюємо набір статей з різними атрибутами
INSERT INTO "articles" ("id", "author_id", "category_id", "title", "content", "status", "is_exclusive", "is_breaking", "views_count", "created_at") VALUES
(1, 1, 1, 'Нові політичні альянси: що чекає на Україну?', 'Детальний аналіз останніх подій на політичній арені...', 'published', 0, 1, 1520, '2025-10-14 09:30:00.000000'),
(2, 2, 3, 'Майбутнє ШІ: чи замінять роботи людей?', 'Розглядаємо перспективи штучного інтелекту та його вплив на ринок праці.', 'published', 1, 0, 2800, '2025-10-13 15:00:00.000000'),
(3, 3, 4, 'Історична перемога: збірна з футболу вийшла у фінал!', 'Емоційний репортаж з вирішального матчу.', 'published', 0, 0, 3150, '2025-10-12 23:00:00.000000'),
(4, 1, 2, 'Економічний прогноз на наступний квартал', 'Аналітики прогнозують зростання ВВП, але є ризики...', 'published', 0, 0, 980, '2025-10-11 12:00:00.000000'),
(5, 2, 5, 'Цифрове мистецтво: як NFT змінює світ', 'Пояснюємо, що таке NFT і чому це важливо для сучасної культури.', 'draft', 1, 0, 150, '2025-10-10 18:00:00.000000');

-- =================================================================
-- 8. Коментарі (Comments)
-- =================================================================
-- Додаємо кілька коментарів від наших користувачів
INSERT INTO "comments" ("id", "article_id", "user_id", "text", "status", "created_at") VALUES
(1, 1, 2, 'Дуже цікава стаття! Дякую за глибокий аналіз.', 'active', '2025-10-14 10:00:00.000000'),
(2, 1, 1, 'Не згоден з деякими висновками, але написано добре.', 'active', '2025-10-14 10:15:00.000000'),
(3, 3, 1, 'Це була неймовірна гра! Наші хлопці молодці!', 'active', '2025-10-13 01:00:00.000000');

-- =================================================================
-- 9. Взаємодії зі статтями (Article Interactions)
-- =================================================================
-- Користувач PremiumUser зберігає ексклюзивну статтю
INSERT INTO "article_interactions" ("id", "article_id", "user_id", "interaction_type", "value", "created_at") VALUES
(1, 2, 1, 'saved', 1, '2025-10-13 18:00:00.000000');

-- =================================================================
-- 10. Рекламні оголошення (Ads)
-- =================================================================
-- Створюємо кілька рекламних кампаній
INSERT INTO "ads" ("id", "title", "content", "ad_type", "is_active", "start_date", "end_date", "impressions_count", "clicks_count") VALUES
(1, 'Знижки на техніку', 'Купуйте ноутбуки зі знижкою до 30%!', 'banner', 1, '2025-10-01 00:00:00.000000', '2025-10-31 23:59:59.000000', 5000, 150),
(2, 'Новий курс з програмування', 'Стань розробником за 6 місяців. Записуйся!', 'sidebar', 1, NULL, NULL, 12000, 250),
(3, 'Доставка їжі', 'Замовляй улюблені страви додому.', 'sidebar', 1, NULL, NULL, 8000, 180),
(4, 'Застаріла кампанія', 'Акція, що вже закінчилась.', 'banner', 0, '2025-09-01 00:00:00.000000', '2025-09-30 23:59:59.000000', 1000, 10);


COMMIT;

-- Вмикаємо перевірку зовнішніх ключів
PRAGMA foreign_keys=ON;